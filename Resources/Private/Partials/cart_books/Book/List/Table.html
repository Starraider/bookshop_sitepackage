<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
      xmlns:cart="http://typo3.org/ns/Extcode/Cart/ViewHelpers"
      data-namespace-typo3-fluid="true">

<ul class="list-unstyled">
    <f:for each="{books}" as="book">
        <li class="media">
            <f:if condition="{book.images}">
                <f:link.action extensionName="cartbooks" controller="Book" pluginName="books" action="show" pageUid="{settings.showPageUids}" arguments="{book:book}">
                    <f:image src="{book.firstImage.originalResource.originalFile.uid}"
                             title="{book.firstImage.originalResource.title}"
                             alt="{book.firstImage.originalResource.title}"
                             width="{settings.listAction.media.image.size.small.maxWidth}"
                             height="{settings.listAction.media.image.size.small.maxHeight}"
                             class="mr-3" />
                </f:link.action>
            </f:if>
            <div class="media-body">
                <f:if condition="{book.author}">
                    <div class="book-author">Autor: {book.author}</div>
                </f:if>
                <f:if condition="{book.editor}">
                    <div class="book-editor">Hrsg.: {book.editor}</div>
                </f:if>
                <f:link.action extensionName="cartbooks" controller="Book" pluginName="books" action="show" pageUid="{settings.showPageUids}" arguments="{book:book}">
                    <h5 class="mt-0 mb-1">{book.title}</h5>
                </f:link.action>
                <h6>{book.subtitle}</h6>
                <f:if condition="{book.dateOfPublication}">
                    <span class="book-dateOfPublication">
                        <f:format.date format="Y">{book.dateOfPublication}</f:format.date>, &nbsp;
                    </span>
                </f:if>
                <f:if condition="{book.numberOfPages}">
                    <span class="book-numberOfPages">{book.numberOfPages} Seiten</span>&nbsp;
                </f:if>
                <f:if condition="{book.sku}">
                    <span class="book-sku"><strong>ISBN:</strong> {book.sku}</span>
                </f:if>
                <f:link.action extensionName="cartbooks" controller="Book" pluginName="books" action="show" pageUid="{settings.showPageUids}" arguments="{book:book}">
                    <div class="book-title"><f:translate key="tx_cartbooks.more_link" /><i class="fa fa-chevron-right" aria-hidden="true"></i></div>
                </f:link.action>
            </div>
        </li>
    </f:for>
</ul>
</html>
